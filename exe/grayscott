#!/usr/bin/env ruby

require 'gray_scott_gtk3'
require 'optparse'

opt = {}
OptionParser.new do |op|
  op.banner += ' msec'
  op.on('-h val', '--height', 'height of the model') { |v| opt[:height] = v.to_i }
  op.on('-w val', '--width', 'width of the model') { |v| opt[:width] = v.to_i }
  op.version = GrayScottGtk3::VERSION
  op.parse!(ARGV)
end

if ARGV[0]
  module GrayScottGtk3
    MSEC = ARGV[0].to_i
  end
else
  puts 'please specify command-line argument. For example `grayscott 40`'
  exit
end

module GrayScottGtk3
  class << self
    def run(opt)
      xml_path = File.expand_path('../resources/', __dir__)
      Controller.new(xml_path, opt)
    end
  end
end

GrayScottGtk3.run(opt)
